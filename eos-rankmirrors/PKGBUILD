# Maintainer: EndeavourOS <info@endeavouros.com>

pkgname=eos-rankmirrors
pkgver=25.10
pkgrel=1
pkgdesc="EndeavourOS mirror ranking tool"
arch=('any')

# url="https://github.com/endeavouros-team/PKGBUILDS/raw/master/$pkgname"
url="https://raw.githubusercontent.com/endeavouros-team/PKGBUILDS/master/$pkgname"

license=(GPL3)
depends=(eos-bash-shared)
options=(!strip !emptydirs)
backup=(etc/$pkgname.conf)

source=(
  $url/$pkgname
  $url/$pkgname.completion
  $url/${pkgname}-from-hook
  $url/${pkgname}.hook
  $url/${pkgname}.conf
  $url/${pkgname}.disabled
)
sha512sums=('f7a7313c7ff532a28b2e55a27a9d5435ed44fa61a977726b176e62cc5a7bc4486fcb8dbe20c7eee0000a51b1bf99f70d23ba247597362121eb0634a908bac537'
            '0bbb39f7b192d0d1e26e5bd05ff8f15fedd1370cb766a178f40bf476899b546a97a1c297aa670418eba35d750f9d2fef618034220fade49743aa5763a7ade6ec'
            'fc3113a20559ec58ffff2cacae8069ce5c83ad826f0054488315d024cb874a92ae9240fe4630bd9da647ee2cbf0e93dd22259190c703f26d21bf0b8481686a4c'
            'f01f6267f624992febfec29c76f2de1c503693086ade5783e2b9cbef359f5155bf6df520ff06299193c842aef2a05cac5078977ee0dabf55cff66f44aec6e44a'
            'f6f6e06edbeb9828f66bdf27596d4db86eeae774546b5c978816a2a1d2e3d6d066d47dc1a001c7c98058154c02405e6926b03611d73b369d62241f50e005aad5'
            '06b77d1109fec45071dd2a3c1be07c225a5735961bd2818d0ccea608fef6e85bf4ae71d821427aa766d5b1934195282c1964965df7bd49602316b3bab6bf9824')

package() {
  local hooks=$pkgdir/usr/share/libalpm/hooks

  install -Dm644 ${pkgname}.hook      $hooks/${pkgname}.hook

  install -Dm644 ${pkgname}.conf      $pkgdir/etc/${pkgname}.conf
  install -Dm644 ${pkgname}.disabled  $pkgdir/etc/${pkgname}.disabled

  install -Dm755 $pkgname             $pkgdir/usr/bin/$pkgname
  install -Dm755 ${pkgname}-from-hook $pkgdir/usr/bin/${pkgname}-from-hook

  install -Dm644 $pkgname.completion  $pkgdir/usr/share/bash-completion/completions/$pkgname
}
